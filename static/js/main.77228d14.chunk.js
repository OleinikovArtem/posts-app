(this["webpackJsonpposts-app"]=this["webpackJsonpposts-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),u=(a(29),a(16)),i=a(2),s=a(1),o=function(e){var t=e.searchPosts,a=e.isLoading,c=Object(n.useState)(""),l=Object(i.a)(c,2),u=l[0],s=l[1],o=r.a.createElement("span",{className:"uk-search-icon uk-search-icon-flip","uk-spinner":"ratio: 0.6"});return r.a.createElement("form",{className:"uk-search uk-search-default uk-width-medium uk-margin-remove uk-margin-right",onSubmit:function(e){e.preventDefault(),t(u)}},r.a.createElement("span",{"uk-search-icon":"true"}),a&&o,r.a.createElement("input",{className:"uk-search-input",type:"search",placeholder:"Search...",value:u,onChange:function(e){return s(e.target.value.trim())}}))},m=function(e){var t=e.setLimit;return r.a.createElement("select",{onChange:function(e){return t(e.target.value)},className:"uk-select uk-width-small uk-margin-left"},r.a.createElement("option",{value:6},"6"),r.a.createElement("option",{value:12},"12"),r.a.createElement("option",{value:24},"24"))},d=function(e){var t=e.setOrder;return r.a.createElement("select",{onChange:function(e){return t(e.target.value)},className:"uk-select uk-width-small uk-margin-auto-left"},r.a.createElement("option",{value:"asc"},"ASC"),r.a.createElement("option",{value:"desc"},"DESC"))},v=function(e){var t=e.toggleView,a=e.view;return r.a.createElement("div",{className:"uk-button-group uk-margin-left"},r.a.createElement("button",{className:"uk-button uk-button-default"+("grid"===a&&" uk-active"),onClick:function(){return t("grid")}},r.a.createElement("span",{"uk-icon":"icon:  grid"})),r.a.createElement("button",{className:"uk-button uk-button-default"+("list"===a&&" uk-active"),onClick:function(){return t("list")}},r.a.createElement("span",{"uk-icon":"icon:  list"})))},k=function(e){var t=e.toggleView,a=e.setOrder,n=e.setLimit,c=e.view,l=e.searchPosts,u=e.isLoading;return r.a.createElement("div",{className:"uk-margin-medium-bottom uk-flex"},r.a.createElement(o,{searchPosts:l,isLoading:u}),r.a.createElement(d,{setOrder:a}),r.a.createElement(m,{setLimit:n}),r.a.createElement(v,{toggleView:t,view:c}))},E=function(e){var t=e.pages,a=e.activePage,n=e.handlePagination,c=(e.setActivePage,new Array(t).fill(""));return r.a.createElement("ul",{className:"uk-pagination uk-flex-center uk-flex-middle","uk-margin":"true"},r.a.createElement("li",{onClick:function(){return n("prev")}},r.a.createElement("span",null,r.a.createElement("span",{"uk-pagination-previous":"true"}))),c.map((function(e,t){return r.a.createElement("li",{key:t,className:a===t+1?"uk-active":"",onClick:function(){return n(t+1)}},r.a.createElement("span",{style:{cursor:"pointer"}},t+1))})),r.a.createElement("li",{onClick:function(){return n("next")}},r.a.createElement("span",null,r.a.createElement("span",{"uk-pagination-next":"true"}))))},g=function(){return r.a.createElement("div",{className:"uk-margin"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom"},"Load more"," ",r.a.createElement("div",{className:"uk-margin-small-left","uk-spinner":"ratio: 0.6"})))},p=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-margin-medium-bottom uk-child-width-1-2@s uk-grid-collapse uk-margin","uk-grid":"true"},r.a.createElement("div",{className:"uk-card-media-left uk-cover-container"},r.a.createElement("img",{src:"https://picsum.photos/600/400",alt:"true","uk-cover":"true"}),r.a.createElement("canvas",{width:600,height:400})),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h3",{className:"uk-card-title uk-margin-remove-bottom uk-flex uk-flex-middle uk-flex-between"},"Title ",r.a.createElement("a",{href:"/",className:"uk-icon-link","uk-icon":"heart"})),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt."),r.a.createElement("a",{href:"post.html",className:"uk-button uk-button-text"},"Read more")))))},f=function(){return r.a.createElement("div",{className:"uk-grid uk-child-width-1-2@s uk-child-width-1-2@m"},r.a.createElement(p,null),r.a.createElement(p,null),r.a.createElement(p,null),r.a.createElement(p,null),r.a.createElement(p,null),r.a.createElement(p,null))},b=function(){return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement(k,null),r.a.createElement(f,null),r.a.createElement(g,null),r.a.createElement(E,null)))},h=a(8),N=function(e){var t=e.id,a=e.title,n=e.body,c=e.toggleFavorites,l=e.favorit?{color:"red"}:{};return r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-margin-medium-bottom"},r.a.createElement("div",{className:"uk-card-header"},r.a.createElement("h3",{className:"uk-card-title uk-margin-remove-bottom uk-flex uk-flex-middle uk-flex-between"},a,r.a.createElement("button",{style:l,className:"uk-icon-link","uk-icon":"heart",onClick:function(){return c(t)}}))),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("p",null,n)),r.a.createElement("div",{className:"uk-card-footer"},r.a.createElement(h.b,{to:"/posts-app/post/".concat(t),className:"uk-button uk-button-text"},"Read more"))))},O=function(e){var t=e.view,a=void 0===t?"grid":t,n=e.posts,c=e.favorites,l=e.toggleFavorites,u="grid"===a?3:2;return 0===(null===n||void 0===n?void 0:n.length)?r.a.createElement("div",{className:"uk-grid uk-child-width-1-2@s uk-child-width-1-".concat(u,"@m")},r.a.createElement("h1",null,"Posts not found")):r.a.createElement("div",{className:"uk-grid uk-child-width-1-2@s uk-child-width-1-".concat(u,"@m")},n.map((function(e){var t=c.includes(e.id);return r.a.createElement(N,Object.assign({favorit:t,toggleFavorites:l,key:e.id},e))})))},j=function(){return r.a.createElement("div",{className:"SpinnerWrap"},r.a.createElement("div",{className:"loader"},"Loading..."))},w=function(e){var t=e.posts,a=e.view,c=e.toggleView,l=e.favorites,u=e.toggleFavorites,i=e.setOrder,s=e.setLimit,o=e.searchPosts,m=e.isLoading,d=e.pages,v=e.handlePagination,p=e.activePage,f=e.setActivePage;return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement(k,{setOrder:i,toggleView:c,view:a,setLimit:s,isLoading:m,searchPosts:o}),m?r.a.createElement(j,null):r.a.createElement(n.Fragment,null,r.a.createElement(O,{favorites:l,toggleFavorites:u,view:a,posts:t}),r.a.createElement(g,null),r.a.createElement(E,{pages:d,handlePagination:v,activePage:p,setActivePage:f}))))},x=a(7),y=a.n(x),S=a(11),P=function(e){e.postId,e.id;var t=e.name,a=e.email,c=e.body;return r.a.createElement(n.Fragment,null,r.a.createElement("article",{className:"uk-comment"},r.a.createElement("header",{className:"uk-comment-header uk-grid uk-grid-medium uk-flex-middle"},r.a.createElement("div",{className:"uk-width-expand"},r.a.createElement("h4",{className:"uk-comment-title uk-margin-remove"},r.a.createElement("a",{className:"uk-link-reset",href:"#"},t)),r.a.createElement("ul",{className:"uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},a))))),r.a.createElement("div",{className:"uk-comment-body"},r.a.createElement("p",null,c))),r.a.createElement("hr",null))},C=function(e){var t=e.comments;return r.a.createElement("div",{className:"uk-comments"},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(P,Object.assign({key:e.id},e))})))},F=a(15),L=a(10),A={name:"",email:"",body:""},D=function(e){var t=e.addComment,a=Object(n.useState)(A),c=Object(i.a)(a,2),l=c[0],u=c[1],s=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name,r=Object(L.a)(Object(L.a)({},l),{},Object(F.a)({},n,a));u(r)};return r.a.createElement("form",{action:"#",className:"uk-comment-form uk-margin-medium-top",onSubmit:function(e){e.preventDefault(),t(Object(L.a)(Object(L.a)({},l),{},{id:(new Date).getTime()}))}},r.a.createElement("fieldset",{className:"uk-fieldset"},r.a.createElement("legend",{className:"uk-legend"},"Add Comment"),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("input",{name:"name",className:"uk-input",type:"text",placeholder:"Name",required:!0,value:l.name,onChange:s})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("input",{name:"email",className:"uk-input",type:"email",placeholder:"Email",required:!0,value:l.email,onChange:s})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("textarea",{name:"body",className:"uk-textarea",rows:5,placeholder:"Comment",required:!0,value:l.body,onChange:s})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},"Post Comment"))))},T="https://jsonplaceholder.typicode.com",V=function(){var e=Object(S.a)(y.a.mark((function e(){var t,a,n,r,c,l,u,i,s,o,m,d,v,k,E,g,p=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:function(){},a=p.length>1?p[1]:void 0,n=a.activePage,r=void 0===n?1:n,c=a.limit,l=void 0===c?6:c,u=a.search,i=void 0===u?null:u,s=a.order,o=void 0===s?"asc":s,m=p.length>2?p[2]:void 0,d=p.length>3?p[3]:void 0,m(!0),v=i?"?q=".concat(i,"&_"):"?_",e.next=8,fetch("".concat(T,"/posts").concat(v,"page=").concat(r,"&_limit=").concat(l,"&_order=").concat(o));case 8:return k=e.sent,E=k.headers.get("X-Total-Count"),d(E),e.next=13,k.json();case 13:g=e.sent,m(!1),t(g);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(S.a)(y.a.mark((function e(){var t,a,n,r,c=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:function(){},a=c.length>1?c[1]:void 0,e.next=4,fetch("".concat(T,"/posts/").concat(a,"?_embed=comments"));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(S.a)(y.a.mark((function e(){var t,a,n,r,c=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:function(){},a=c.length>1?c[1]:void 0,e.next=4,fetch("".concat(T,"/posts"),{method:"POST",body:JSON.stringify(Object(L.a)({},a)),headers:{"Content-type":"application/json; charset=UTF-8"}});case 4:return n=e.sent,e.next=7,n.status;case 7:r=e.sent,t(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=Object(s.f)((function(e){var t=e.match.params,a=Object(n.useState)(null),c=Object(i.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)([]),m=Object(i.a)(o,2),d=m[0],v=m[1],k=Object(n.useState)(null),E=Object(i.a)(k,2),g=E[0],p=E[1];Object(n.useEffect)((function(){_(s,t.id)}),[]),Object(n.useEffect)((function(){v(null===l||void 0===l?void 0:l.comments)}),[l]);var f=function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(p,t);case 2:g&&(console.log("ok"),v([].concat(Object(u.a)(d),[t])));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement("h1",{className:"uk-heading-bullet uk-margin-medium-bottom"},r.a.createElement("span",null,null===l||void 0===l?void 0:l.title," "),r.a.createElement("a",{className:"uk-text-small",href:"#"},"Author")),r.a.createElement("div",{className:"uk-article uk-dropcap uk-margin-large-bottom"},r.a.createElement("p",null,null===l||void 0===l?void 0:l.body)),r.a.createElement("hr",null),r.a.createElement("h3",{className:"uk-margin-remove-top"},"Comments:"),r.a.createElement(C,{comments:d}),r.a.createElement(D,{addComment:f})))})),I=function(){return r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(h.c,{to:"/posts-app"},"Posts")),r.a.createElement("li",null,r.a.createElement(h.c,{to:"/albums"},"Albums"))))},M=function(e){var t=e.title,a=e.id,n=e.toggleFavorites;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",{className:"uk-text-right"},r.a.createElement("button",{className:"uk-button",onClick:function(){return n(a)},type:"button","uk-icon":"icon: close;"})))},R=function(e){var t=e.posts,a=e.favorites,n=e.toggleFavorites,c=t.filter((function(e){return a.includes(e.id)}));return r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("div",{className:"uk-navbar-item"},r.a.createElement("button",{className:"uk-button",type:"button","uk-icon":"icon: heart; ratio: 2"}),r.a.createElement("div",{className:"uk-width-large","uk-dropdown":"mode: click"},r.a.createElement("div",{className:"uk-dropdown-grid uk-child-width-1-1@m","uk-grid":"true"},r.a.createElement("div",null,r.a.createElement("table",{className:"uk-table uk-table-divider uk-table-justify"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",{className:"uk-text-right"},"Delete"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement(M,Object.assign({key:e.id},e,{toggleFavorites:n}))})))))))))},B=function(e){var t=e.favorites,a=e.toggleFavorites,n=e.posts;return r.a.createElement("nav",{className:"uk-navbar uk-navbar-container","uk-navbar":"true"},r.a.createElement(I,null),r.a.createElement(R,{favorites:t,toggleFavorites:a,posts:n}))},U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(i.a)(l,2),m=o[0],d=o[1],v=Object(n.useState)(1),k=Object(i.a)(v,2),E=(k[0],k[1],Object(n.useState)(1)),g=Object(i.a)(E,2),p=g[0],f=g[1],h=Object(n.useState)(null),N=Object(i.a)(h,2),O=N[0],j=N[1],x=Object(n.useState)(6),y=Object(i.a)(x,2),S=y[0],P=y[1],C=Object(n.useState)("grid"),F=Object(i.a)(C,2),L=F[0],A=F[1],D=Object(n.useState)(!1),T=Object(i.a)(D,2),_=T[0],q=T[1],I=Object(n.useState)([]),M=Object(i.a)(I,2),R=M[0],U=M[1],W=Object(n.useState)("asc"),X=Object(i.a)(W,2),z=(X[0],X[1],Object(n.useState)(null)),G=Object(i.a)(z,2),H=G[0],K=G[1];Object(n.useEffect)((function(){V(c,{activePage:p,limit:S,search:m},q,K)}),[S,p,m]),Object(n.useEffect)((function(){var e=Math.round(H/S);j(e)}),[H,S]);var Q=function(e){var t=[];t=R.includes(e)?R.filter((function(t){return t!==e})):[].concat(Object(u.a)(R),[e]),U(t)};return r.a.createElement("main",{className:"uk-main"},r.a.createElement(B,{favorites:R,toggleFavorites:Q,posts:a}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/posts-app"},r.a.createElement(w,{searchPosts:function(e){f(1),d(e)},favorites:R,toggleFavorites:Q,posts:a,view:L,toggleView:function(e){return A(e)},setOrder:function(e){var t=a.sort((function(t,a){switch(e){case"asc":return t.title>a.title?1:-1;case"desc":return t.title<a.title?1:-1}}));console.log(t),c(t)},setLimit:P,isLoading:_,pages:O,handlePagination:function(e){var t=null;switch(e){case"prev":t=1===p?p:p-1;break;case"next":t=O>p?p+1:p;break;default:t=e}f(t)},activePage:p,setActivePage:f})),r.a.createElement(s.a,{exact:!0,path:"/posts-app/post/:id"},r.a.createElement(J,null)),r.a.createElement(s.a,{exact:!0,path:"/albums"},r.a.createElement(b,null))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,null,r.a.createElement(U,null))),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.77228d14.chunk.js.map